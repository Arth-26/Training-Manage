{% load static %}

<div class="d-flex justify-content-center w-100 mt-3">
    <nav aria-label="...">
        <ul class="pagination">
            <li class="page-item {% if not previous_page %}disabled{% endif %}">
                <a class="page-link" href="?page={{ previous_page }}">Previous</a>
            </li>

            {% if page != 1 and page != 2 and page != 3 %}
                <li class="page-item">
                    <a class="page-link" href="?page=1">1</a>
                </li>
            {% endif %}

            {% if page > 1 %}
                {% if page > 2 %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page|add:"-2" }}">{{ page|add:"-2" }}</a>
                    </li>
                {% endif %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page|add:"-1" }}">{{ page|add:"-1" }}</a>
                </li>
            {% endif %}

            <li class="page-item active">
                <a class="page-link" href="?page={{ page }}">{{ page }}</a>
            </li>

            {% if qtd_pages_list|length > page|add:"1" and qtd_pages_list|length > 3%}
                {% if page < qtd_pages_list|length|add:"-1" %}
                    <li class="page-item disabled"><a class="page-link">...</a></li>
                {% endif %}
            {% endif %}
            
            {% if next_page and page != qtd_pages_list|last %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ qtd_pages_list|last }}">{{ qtd_pages_list|last }}</a>
                </li>
            {% endif %}

            <li class="page-item {% if not next_page %}disabled{% endif %}">
                <a class="page-link" href="?page={{ next_page }}">Next</a>
            </li>
        </ul>
    </nav>
</div>
